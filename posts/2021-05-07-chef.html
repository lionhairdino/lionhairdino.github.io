<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>lionhairdino - 함수형 시작과 아마도 끝</title>
        <meta name="description" content="lionhairdino - 함수형 시작과 아마도 끝" />
        <meta charset="UTF-8" />
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <meta property="og:type" content="website" />
        <meta property="og:title" content="함수형 시작과 아마도 끝" />
        <meta property="og:description" content="lionhairdino - 하스켈 함수형 프로그래밍, 타입 이론, 모노이드, 모나드, 동적 타입 언어의 코드 조립" />
        <meta property="og:url" content="https://lionhairdino.github.io" />
<meta name="keywords" content="함수형 사고, functional, 요리사">
    </head>
    <body>
        <div id="header">
            <div id="logo"> </div>
            <div id="navigation">
                <a href="../">lionhairdino</a> 
                <a href="../about.html">about</a>
                <!--<a href="/archive.html">archive</a>-->
            </div>
        </div>

        <div id="content">
            <h1>함수형 시작과 아마도 끝</h1>

            <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
<div class="info">
    Posted on May  7, 2021
    
</div>

<p>요리팀에 케이크를 만들어 달라 부탁하려 합니다.</p>
<h3 id="절차형명령형">절차형(명령형)</h3>
<pre><code>밀가루를 가져온다.
반죽 요리사가 반죽을 한다. 
결과를 테이블에 올려 둔다.
굽기 요리사가 굽는다.
결과를 테이블에 올려 둔다.
크림 요리사가 크림을 얹는다.
결과를 테이블에 올려 둔다.</code></pre>
<p>어차피 필요한 작업은 다를 수 없습니다. 절차형이건 함수형이건 반죽,굽기,크림얹기를 해야 케이크가 완성됩니다. 차이점은 요리팀에 준비를 시키는, 명령을 내리는 순서가 좀 다릅니다.</p>
<figure>
<img src="../images/functionalChef.png" alt="함수부터 먼저 모여" /><figcaption aria-hidden="true">함수부터 먼저 모여</figcaption>
</figure>
<h3 id="함수형">함수형</h3>
<pre><code>반죽 요리사 준비
굽기 요리사 준비
크림 요리사 준비
모두 준비 됐으면 밀가루를 가져 온다.</code></pre>
<p>함수형은 제일 먼저 요리사(함수)들을 주욱 엮어 두고, 밀가루를 딱 넣는 순간 휘리릭 케이크가 나옵니다.</p>
<p>이 말을 <code>Reader</code> 모나드에 적용하면,</p>
<p>제일 먼저 <code>Reader</code> 액션들을 바인드로 주욱 엮어 두고, env 값을 딱 넣는 순간 휘리릭 실행되어 결과가 나옵니다.</p>
<p>프로그램의 일부 코드만 이렇게 되어 있는게 아닙니다. 하스켈 프로그램 전체가 IO모나드로 엮은 상태로 되어 있고, Realworld 값을 넣어주는 순간 프로그램이 실행됩니다.</p>
<p>요리사의 가장 중요한 덕목은 다른 요리사와 바로 대화composition가 가능해야 합니다. 그래야, 요리팀에 들어갈 수 있습니다. 하스켈의 낯선 관용구, 패턴, 스타일들의 대부분 목적은 함수를 엮기 위한 겁니다.</p>
<p>보통 함수형 사고에 관한 얘기를 꺼낼때는 리스트 같은 스트림에 <code>fmap</code>, <code>filter</code>, <code>foldr</code> 같은 함수들을 적용하는 구조를 먼저 얘기합니다. 이런 구체적 사례 이전에, 함수형은 프로그래밍은 <em>함수를 엮어서 문제를 해결</em>한다는 큰 형태부터 알고 들어가면 어떨까 합니다. 아예 값이라는 개념을 지우고 시작해서 함수들을 엮다 보면, 함수형의 에센스 같은 함수들이 자연스럽게 느껴지기도 합니다.</p>
<p>저 같은 경우는 모나드의 <code>bind</code> 동작을 아무리 자세히 설명한 자료를 봐도 “어떤 형태의 함수를 엮기 위해”란 목적을 알기 전까지는 지식을 쫓아가는데 어려움을 느꼈었습니다. 문제들의 해결책이 아주 터무니 없는 지식, 구조, 방법들인 경우는 거의 없습니다. 먼저 목적을 알면, 스스로 생각해 볼 기회가 생겨 더 빠르게 익숙해질 수 있습니다.</p>
<p>왜 <em>함수를 엮는 스타일</em>이 나왔을까요? 하스켈 언어의 근간은 상태가 존재하지 않는다입니다. 상태가 없으니, 함수들의 작업 결과를 유지하는 방법은 바로 이어지는 함수의 입력으로 넘겨주는 방법밖에 없습니다. 어떻게든 필요한 정보, 상태는 촘촘히 엮여진 함수들을 끊임없이 돌아다니게 해야 합니다.</p>
<p>왜 <em>상태가 없는 구조</em>를 선택했을까요? 상태가 없다는 말은, 함수가 같은 입력이 들어오면 어떤 경우에도 다른 출력을 내놓지 않는다는 것과 같은 말입니다. 함수가 예상치 못한 동작을 하는 경우는 없다면, 함수 하나가 에러가 날 이유도 없어집니다. 이런 확고한 믿음이 있다면, 디버깅을 생각하는 방식이 달라집니다.</p>
<p>하스켈은 <em>람다 대수의 구조</em>를 그대로 옮겨 놓은 것이라 보면 되는데, 처음 람다 대수를 고안한 알론조 처치 수학자가 왜 람다 대수를 떠올렸는지는 간단한 교양 수준으로 접근할 수 있는 자료는 없어 보입니다. 람다 대수의 시작은 1936년이었고, 프로그래밍과의 관계를 알게된 건 1960년대라 합니다. 처음부터 기계적 프로세스를 고려해서 나온 이론은 아니었습니다.</p>
<p>이렇게 얘기하는게 이미 어느 정도 알고나서 들으니 의미 있어 보이는 건지, 처음부터 이렇게 얘기만 해도 의미를 잡아낼 수 있을지는 잘 모르겠습니다.</p>

<div id="disqus_thread" style="padding-top:40px"></div>
<script>

var disqus_config = function () {
this.page.url = 'https://lionhairdino.github.io/posts/2021-05-07-chef.html';
this.page.identifier = 'posts/2021-05-07-chef.markdown';
};
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://lionhairdino.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
        </div>
        <div id="footer">
            © 2021 lionhairdino. All rights reserved. Generated by <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
